define(["underscore","backbone","marionette"],function(t,e,i){var n=e.Model.extend({defaults:{level:"info",timeout:4e3,dismissable:!0,header:null,message:""}}),o=i.ItemView.extend({className:"alert",template:"notification",ui:{dismiss:"[data-dismiss]",header:"h4",message:"div"},events:{"click [data-dismiss]":"dismiss",mouseover:"hold",mouseout:"release"},dismiss:function(){clearTimeout(this._dismissTimer)},hold:function(){this._startTime&&(clearTimeout(this._dismissTimer),this.$el.stop().show())},release:function(){if(this._startTime){var t=this._startTime+this.model.get("timeout"),e=Math.max(t-(new Date).getTime(),1e3),i=this;this._dismissTimer=setTimeout(function(){i.$el.fadeOut()},e)}},onRender:function(){this.$el.addClass("alert-"+this.model.get("level")),this.ui.header.toggle(!!this.model.get("header")),this.ui.dismiss.toggle(this.model.get("dismissable"));var t=this.model.get("timeout");t&&(this._startTime=(new Date).getTime(),this.release())}}),s=i.CollectionView.extend({className:"notifications",itemView:o,constructor:function(n){n=n||{},n.collection||(n.collection=new e.Collection),i.CollectionView.prototype.constructor.call(this,n),t.bindAll(this,"notify")},notify:function(t){"string"==typeof t&&(t={message:t});var e=new n(t);return this.collection.add(e),this.children.findByModel(e)}});return{Notifications:s,Notification:o}});
//@ sourceMappingURL=notify.js.map