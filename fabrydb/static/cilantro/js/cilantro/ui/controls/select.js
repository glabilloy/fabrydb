var __hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},__indexOf=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};define(["underscore","backbone","marionette","../../core","./base"],function(t,e,i,n,o){var s,r,a,l,c,u;return r=function(t){function e(){return l=e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.template=function(){},e.prototype.tagName="option",e.prototype.modelEvents=function(){return{"change:selected":"render"}},e.prototype.onRender=function(){return this.$el.text(this.model.get("label")),this.$el.attr("value",this.model.get("value")),this.$el.attr("selected",this.model.get("selected"))},e}(i.ItemView),a=function(t){function i(){return c=i.__super__.constructor.apply(this,arguments)}return __extends(i,t),i.prototype.className="selection-list",i.prototype.itemView=r,i.prototype.itemViewOptions=function(t){return{model:t}},i.prototype.itemViewContainer=".items",i.prototype.template="controls/select/list",i.prototype.ui={items:".items"},i.prototype.events={"change .items":"onSelectionChange"},i.prototype.collectionEvents={reset:"onCollectionSync"},i.prototype.initialize=function(){var t,i=this;return this.wait(),this.collection||(this.collection=new e.Collection,t=n.isSupported("2.3.1")?0:1e3,this.model.values({limit:t}).done(function(t){return i.collection.reset(t.values),i.ready()})),this.on("ready",function(){return this.change()})},i.prototype.onCollectionSync=function(){return this.render()},i.prototype.onSelectionChange=function(){return this.change()},i.prototype.getField=function(){return this.model.id},i.prototype.getOperator=function(){return"exact"},i.prototype.getValue=function(){return this.ui.items.val()},i.prototype.setValue=function(t){return this.ui.items.val(t)},i}(o.ControlCompositeView),s=function(e){function i(){return u=i.__super__.constructor.apply(this,arguments)}return __extends(i,e),i.prototype.onCollectionSync=function(){return this.render()},i.prototype.onSelectionChange=function(){var t=this;return this.ui.items.children().each(function(e,i){return t.collection.models[e].set("selected",i.selected)}),this.change()},i.prototype.onRender=function(){return this.ui.items.attr("multiple",!0)},i.prototype.getOperator=function(){return"in"},i.prototype.getValue=function(){return t.map(this.collection.where({selected:!0}),function(t){return t.get("value")})},i.prototype.setValue=function(t){return null==t&&(t=[]),this.collection.each(function(e){var i;return e.set("selected",(i=e.get("value"),__indexOf.call(t,i)>=0))})},i}(a),{SingleSelectionList:a,MultiSelectionList:s}});
//@ sourceMappingURL=select.js.map