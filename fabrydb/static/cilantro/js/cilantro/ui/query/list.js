define(["underscore","marionette","../core","./item"],function(t,e,i,n){var o=e.CompositeView.extend({itemView:n.QueryItem,itemViewContainer:".items",template:"query/list",options:{title:"Queries",editable:!1,emptyMessage:'You have not yet created any queries nor have had any shared with you. You can create a new query by navigating to the "Results" page and clicking on the "Save Query..." button. This will save a query with the current filters and column view.'},ui:{title:".title",publicIndicator:".header > div"},collectionEvents:{sync:"onCollectionSync",error:"onCollectionError",request:"onCollectionRequest",destroy:"onCollectionDestroy"},itemViewOptions:function(t,e){return{model:t,view:this.data.view,context:this.data.context,editable:this.options.editable,index:e}},initialize:function(){if(this.data={},!(this.data.context=this.options.context))throw new Error("context model required");if(!(this.data.view=this.options.view))throw new Error("view model required");this.options.editable&&(this.on("itemview:showEditQueryModal",function(t){i.dialogs.query.open(t.model)}),this.on("itemview:showDeleteQueryModal",function(t){i.dialogs.deleteQuery.open(t.model)}))},_refreshList:function(){this.$(".error-message").hide(),this.$(".loading-indicator").hide(),this.checkForEmptyCollection()},onCollectionDestroy:function(){this._refreshList()},onCollectionError:function(){this.$(".empty-message").hide(),this.$(".error-message").show(),this.$(".loading-indicator").hide()},onCollectionRequest:function(){this.$(".empty-message").hide(),this.$(".error-message").hide(),this.$(".loading-indicator").show()},onCollectionSync:function(){this._refreshList()},checkForEmptyCollection:function(){0===this.collection.length?this.$(".empty-message").show():this.$(".empty-message").hide()},onRender:function(){this.ui.title.html(this.options.title),this.options.editable||this.ui.publicIndicator.hide(),this.$(".empty-message").html(this.options.emptyMessage),this.checkForEmptyCollection()}});return{QueryList:o}});
//@ sourceMappingURL=list.js.map