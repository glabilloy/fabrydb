var __hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},__bind=function(t,e){return function(){return t.apply(e,arguments)}};define(["underscore","../core","../constants","../structs","./paginator"],function(t,e,i,n,s){var o,r,a,h;return r=function(i){function n(){return a=n.__super__.constructor.apply(this,arguments)}return __extends(n,i),n.prototype.idAttribute="page_num",n.prototype.url=function(){var i;return i=t.result(this.collection,"url"),e.utils.alterUrlParams(i,{page:this.id,per_page:this.collection.perPage})},n}(n.Frame),o=function(n){function s(){return this.fetch=__bind(this.fetch,this),this.markAsDirty=__bind(this.markAsDirty,this),this.onWorkspaceUnload=__bind(this.onWorkspaceUnload,this),this.onWorkspaceLoad=__bind(this.onWorkspaceLoad,this),h=s.__super__.constructor.apply(this,arguments)}return __extends(s,n),s.prototype.initialize=function(){return this.isDirty=!0,this.isWorkspaceOpen=!1,this._refresh=t.debounce(t.bind(this.refresh,this),i.CLICK_DELAY),e.on(e.VIEW_SYNCED,this.markAsDirty),e.on(e.CONTEXT_SYNCED,this.markAsDirty),this.on("workspace:load",this.onWorkspaceLoad),this.on("workspace:unload",this.onWorkspaceUnload)},s.prototype.onWorkspaceLoad=function(){return this.isWorkspaceOpen=!0,this._refresh()},s.prototype.onWorkspaceUnload=function(){return this.isWorkspaceOpen=!1},s.prototype.markAsDirty=function(){return this.isDirty=!0,this._refresh()},s.prototype.fetch=function(t){var i,n=this;return null==t&&(t={}),null!=(i=e.config.get("session.defaults.data.preview"))&&(t.type="POST",t.contentType="application/json",t.data=JSON.stringify(i)),this.isDirty&&this.isWorkspaceOpen?(this.isDirty=!1,null==t.cache&&(t.cache=!1),s.__super__.fetch.call(this,t)):{done:function(){return delete n.pending}}},s}(n.FrameArray),t.extend(o.prototype,s.PaginatorMixin),o.prototype.model=r,{Results:o}});
//@ sourceMappingURL=results.js.map