var __hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};define(["backbone"],function(t){var e,i,n,s,o,r,a,h;return i=function(t){function e(t,i){this.links={},e.__super__.constructor.call(this,t,i),this.on("change:_links",function(t,e){return this._parseLinks(e)})}return __extends(e,t),e.prototype.url=function(){return this.isNew()?e.__super__.url.apply(this,arguments):this.links.self},e.prototype._parseLinks=function(t){var e,i,n;i={};for(n in t)e=t[n],i[n]=e.href;return this.links=i},e.prototype.parse=function(t){return null!=(null!=t?t._links:void 0)&&this._parseLinks(t._links),t},e}(t.Model),e=function(t){function e(t,i){this.links={},e.__super__.constructor.call(this,t,i)}return __extends(e,t),e.prototype.model=i,e.prototype.url=function(){return this.links.self},e.prototype._parseLinks=function(t){var e,i,n;i={};for(n in t)e=t[n],i[n]=e.href;return this.links=i},e.prototype.parse=function(t){return null!=(null!=t?t._links:void 0)&&this._parseLinks(t._links),t},e}(t.Collection),o=function(t){function e(){return r=e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.sync=function(){},e}(i),s=function(t){function e(){return a=e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.sync=function(){},e}(e),n=function(e){function i(){return h=i.__super__.constructor.apply(this,arguments)}return __extends(i,e),i.prototype.initialize=function(){return this.add({session:!0}),this.session=this.get("session")},i.prototype._resetSession=function(){return this.session.clear({silent:!0}),this.session.set("session",!0,{silent:!0})},i.prototype.reset=function(t,e){var i,n,s,o;for(null==e&&(e={}),o=this.models,n=0,s=o.length;s>n;n++)i=o[n],i===this.session?this._resetSession():this._removeReference(i);return e.previousModels=this.models,this._reset(),this.add(this.session,_.extend({silent:!0},e)),(i=_.findWhere(t,{session:!0}))&&this.session.set(i,e),this.add(t,_.extend({silent:!0,merge:!0},e)),e.silent||this.trigger("reset",this,e),this},i.prototype.get=function(e){var n;return n=!1,e instanceof t.Model&&(n=e.get("session")),("session"===e||"object"==typeof e&&e.session)&&(n=!0),n?this.findWhere({session:!0}):i.__super__.get.call(this,e)},i.prototype.getSession=function(){return this.session},i}(e),{Model:i,Collection:e,SynclessModel:o,SynclessCollection:s,SessionCollection:n}});
//@ sourceMappingURL=base.js.map