var __hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};define(["underscore","marionette","./row"],function(t,e,i){var n,o,r,s,a;return o=function(e){function i(t){if(null==t.view)throw new Error("ViewModel instance required");this.view=t.view,delete t.view,i.__super__.constructor.call(this,t)}return __extends(i,e),i.prototype.tagName="th",i.prototype.onClick=function(){return t.each(this.view.facets.models,function(t){var e;return t.get("concept")===this.model.id?(e=t.get("sort"),null!=e?"asc"===e.toLowerCase()?(t.set("sort","desc"),t.set("sort_index",0)):(t.unset("sort"),t.unset("sort_index")):(t.set("sort","asc"),t.set("sort_index",0))):(t.unset("sort"),t.unset("sort_index"))},this),this.view.save()},i.prototype.initialize=function(){return this.listenTo(this.model,"change:visible",this.toggleVisible)},i.prototype.events={click:"onClick"},i.prototype.getSortIconClass=function(){var e,i,n=this;if(i=t.find(this.view.facets.models,function(t){return n.model.id===t.get("concept")}),null!=i)switch(e=(i.get("sort")||"").toLowerCase()){case"asc":return"icon-sort-up";case"desc":return"icon-sort-down";default:return"icon-sort"}},i.prototype.render=function(){var t;return this.toggleVisible(),t=this.getSortIconClass(),this.$el.html("<span>"+this.model.get("name")+" <i class="+t+"></i></span>"),this.$el.attr("title",this.model.get("name")),this},i.prototype.toggleVisible=function(){return this.$el.toggle(this.model.get("visible"))},i}(e.ItemView),r=function(t){function e(){return s=e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.itemView=o,e}(i.Row),n=function(e){function n(){return a=n.__super__.constructor.apply(this,arguments)}return __extends(n,e),n.prototype.tagName="thead",n.prototype.render=function(){return i=new r(t.extend({},this.options,{collection:this.collection})),this.$el.html(i.el),i.render(),this},n}(e.ItemView),{Header:n}});
//@ sourceMappingURL=header.js.map